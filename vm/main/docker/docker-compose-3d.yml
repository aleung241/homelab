services:
  spoolman:
    image: ghcr.io/donkie/spoolman:latest
    container_name: spoolman
    environment:
      TZ: ${TIMEZONE}
    ports:
      - "7912:8000"
    volumes:
      - /opt/docker/spoolman/data:/home/app/.local/share/spoolman
    labels:
      - "org.hotio.pullio.notify=true"
      - "org.hotio.pullio.update=true"
      - "org.hotio.pullio.discord.webhook=${PULLIO_DISCORD_WEBHOOK}"
    logging:
      driver: awslogs
      options:
        awslogs-region: ${AWS_DEFAULT_REGION}
        awslogs-group: /${DEFAULT_BASE_MACHINE}/spoolman
        awslogs-create-group: "true"
    restart: unless-stopped
